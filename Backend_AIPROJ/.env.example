# ============================================
# Enterprise RAG Platform - Configuration
# ============================================
# Copy this file to .env and fill in your values
# NEVER commit .env with real credentials!

# ============================================
# Application Settings
# ============================================
APP_NAME=Enterprise RAG Platform
ENV=development
DEBUG=false
LOG_LEVEL=INFO
# API_HOST=0.0.0.0
# API_PORT=8000

# ============================================
# Database Configuration (PostgreSQL)
# ============================================
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASS=your-secure-password-here
DB_NAME=rag_platform
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# Alternative: Use connection string
# DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/rag_platform

# ============================================
# Vector Database Configuration (ChromaDB)
# ============================================
VECTOR_DB_PATH=./data/vector_store
VECTOR_DB_COLLECTION=documents
# CHROMA_HOST=localhost
# CHROMA_PORT=8000

# ============================================
# Redis Configuration (Optional - for caching/queuing)
# ============================================
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_DB=0
# REDIS_PASSWORD=

# ============================================
# LLM Provider Configuration
# ============================================
# Provider options: none, gemini, openai, ollama, auto
# 'none'   = No LLM (lightweight mode, extractive-only)
# 'auto'   = Try providers: gemini -> openai -> ollama
# 'gemini' = Google Gemini only
# 'openai' = OpenAI only
# 'ollama' = Local Ollama only
LLM_PROVIDER=none

# Google Gemini API
# GEMINI_API_KEY=your-gemini-api-key-here
# GEMINI_MODEL=gemini-pro

# OpenAI API
# OPENAI_API_KEY=your-openai-api-key-here
# OPENAI_MODEL=gpt-4
# OPENAI_ORG_ID=

# Ollama (Local)
# OLLAMA_HOST=http://localhost:11434
# OLLAMA_MODEL=llama2

# ============================================
# Embedding Model Configuration
# ============================================
EMBEDDING_MODEL=sentence-transformers/all-MiniLM-L6-v2
EMBEDDING_DIMENSION=384
# Alternative models:
# EMBEDDING_MODEL=all-mpnet-base-v2  # 768-dim, better quality
# EMBEDDING_MODEL=paraphrase-multilingual  # Multilingual support

# ============================================
# RAG Configuration
# ============================================
# Safe mode: strict (no LLM fallback) | hybrid (LLM inference on low confidence)
RAG_SAFE_MODE=hybrid
CHUNK_SIZE=200
CHUNK_OVERLAP=50
TOP_K_RETRIEVAL=5
CONFIDENCE_THRESHOLD=0.3
ENABLE_RERANKING=true

# ============================================
# CSV Analytics Configuration
# ============================================
ENABLE_LLM_INSIGHTS=false
CSV_CACHE_ENABLED=true
CSV_CACHE_TTL=3600
MIN_ROWS_FOR_ANALYSIS=10

# ============================================
# Export Configuration
# ============================================
EXPORT_PATH=./data/exports
ENABLE_PDF_EXPORT=true
ENABLE_MARKDOWN_EXPORT=true
# EXPORT_TEMPLATES_PATH=./templates/exports

# ============================================
# ML Model Configuration
# ============================================
ML_MODEL_PATH=./artifacts/model.pkl
ML_CACHE_PREDICTIONS=true
# ML_BATCH_SIZE=32

# ============================================
# File Upload Configuration
# ============================================
UPLOAD_PATH=./data/uploads
MAX_UPLOAD_SIZE_MB=50
ALLOWED_EXTENSIONS=pdf,txt,csv,md,docx

# ============================================
# Observability & Monitoring
# ============================================
ENABLE_TELEMETRY=true
ENABLE_HEALTH_CHECKS=true
GRACEFUL_DEGRADATION=true
# SENTRY_DSN=
# LOGGING_FORMAT=json

# ============================================
# Security (Production)
# ============================================
# JWT_SECRET_KEY=your-secret-key-generate-with-openssl
# JWT_ALGORITHM=HS256
# JWT_EXPIRATION_MINUTES=1440
# CORS_ORIGINS=http://localhost:3000,https://yourdomain.com
# RATE_LIMIT_PER_MINUTE=60

# ============================================
# Worker/Queue Configuration (Celery)
# ============================================
# CELERY_BROKER_URL=redis://localhost:6379/0
# CELERY_RESULT_BACKEND=redis://localhost:6379/0
# CELERY_TASK_TIMEOUT=300
